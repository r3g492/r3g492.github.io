(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(4);const l=r.b.new(),i=l.width(),s=l.height(),c=document.getElementById("game-of-life-canvas");c.height=31*s+1,c.width=31*i+1;const a=c.getContext("2d");let u=null;const f=()=>{h(),S(),x(),l.tick(),console.log(C()),k=-1,C()&&(console.log(F()),k=F()),b.textContent=-1===k?"모든 노드를 포함하는 네트워크를 만들어보세요. 최대 연결 개수는 6개 입니다.":`네트워크가 완성 되었습니다. 네트워크에 포함된 연결 중 가장 긴 것은 ${k}의 길이를 가집니다.`,u=requestAnimationFrame(f)},d=document.getElementById("play-pause");d.addEventListener("click",e=>{m=[],f()});const h=()=>{a.beginPath(),a.strokeStyle="#CCCCCC";for(let e=0;e<=i;e++)a.moveTo(31*e+1,0),a.lineTo(31*e+1,31*s+1);for(let e=0;e<=s;e++)a.moveTo(0,31*e+1),a.lineTo(31*i+1,31*e+1);a.stroke()},_=(e,t)=>e*i+t;let g=0;const p=document.getElementById("selected-count"),w=document.getElementById("list-of-idx-connection");let y=[],m=[],v=[];const b=document.getElementById("result");let k=-1;const A=e=>Array.from(e,e=>Number(e)),S=()=>{const e=l.cells(),t=new Uint8Array(o.a.buffer,e,i*s);p.textContent=`선택된 셀 : ${g} 개`,g>2&&l.reset_every_selected_to_alive(),m.length>6&&(m=[]),w.textContent="연결 : "+JSON.stringify(m.map(A)),y=[],v=[],g=0,a.beginPath();for(let e=0;e<s;e++)for(let n=0;n<i;n++){const o=_(e,n);if(2===v.length){if(m.some(e=>{const t=Array.from(e);return 2===t.length&&t[0]===v[0]&&t[1]===v[1]}))m=m.filter(e=>{const t=Array.from(e);return!(2===t.length&&t[0]===v[0]&&t[1]===v[1])});else{let e=new Set;for(const t of v)e.add(t),console.log(t);console.log("hello"),m.push(e)}v=[],l.reset_every_selected_to_alive()}t[o]===r.a.Selected&&(g++,v.push(o)),t[o]!==r.a.Alive&&t[o]!==r.a.Selected||y.push(o),a.fillStyle=t[o]===r.a.Dead?"#FFFFFF":t[o]===r.a.Alive?"#000000":"#00FF00",a.fillRect(31*n+1,31*e+1,30,30)}a.stroke()},x=()=>{a.beginPath(),a.strokeStyle="#FF0000",a.lineWidth=5;for(const e of m){const[t,n]=Array.from(e),r=Math.floor(t/i),o=t%i,l=Math.floor(n/i),s=n%i;a.moveTo(31*o+15+1,31*r+15+1),a.lineTo(31*s+15+1,31*l+15+1)}a.stroke()};function C(){const e=l.cells(),t=new Uint8Array(o.a.buffer,e,i*s),n=new Set(y.filter(e=>t[e]!==r.a.Dead));if(0===n.size)return!0;const c=new Set;for(const e of m)for(const t of e)c.add(t);return n.size===c.size}function F(){const e=l.cells(),t=new Uint8Array(o.a.buffer,e,i*s),n=new Set(y.filter(e=>t[e]===r.a.Alive||t[e]===r.a.Selected));if(0===n.size)return-1;let c=0;const a=new Map;for(const e of m){const[t,n]=Array.from(e);a.has(t)||a.set(t,[]),a.has(n)||a.set(n,[]),a.get(t).push(n),a.get(n).push(t)}for(const e of n){const t=new Set,n=[[e,0]];for(;n.length>0;){const[e,r]=n.pop();t.add(e),c=Math.max(c,r);for(const o of a.get(e))t.has(o)||n.push([o,r+1])}}return c}c.addEventListener("click",e=>{const t=c.getBoundingClientRect(),n=c.width/t.width,r=c.height/t.height,o=(e.clientX-t.left)*n,a=(e.clientY-t.top)*r,u=Math.min(Math.floor(a/31),s-1),f=Math.min(Math.floor(o/31),i-1);l.select_cell(u,f),h(),S(),x()}),h(),S(),x(),d.textContent="RESET",f()},function(e,t,n){"use strict";(function(e){let r;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return f}));let o=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});o.decode();let l=null;function i(e,t){return o.decode((null!==l&&0!==l.byteLength||(l=new Uint8Array(r.memory.buffer)),l).subarray(e,e+t))}let s=null;function c(){return null!==s&&0!==s.byteLength||(s=new Int32Array(r.memory.buffer)),s}const a=Object.freeze({Dead:0,0:"Dead",Alive:1,1:"Alive",Selected:2,2:"Selected"});class u{static __wrap(e){const t=Object.create(u.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_universe_free(e)}width(){return r.universe_width(this.ptr)>>>0}height(){return r.universe_height(this.ptr)>>>0}toggle_cell(e,t){r.universe_toggle_cell(this.ptr,e,t)}select_cell(e,t){r.universe_select_cell(this.ptr,e,t)}reset_every_selected_to_alive(){r.universe_reset_every_selected_to_alive(this.ptr)}cells(){return r.universe_cells(this.ptr)}tick(){r.universe_tick(this.ptr)}static new(){const e=r.universe_new();return u.__wrap(e)}render(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.universe_render(n,this.ptr);var e=c()[n/4+0],t=c()[n/4+1];return i(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}}function f(e,t){throw new Error(i(e,t))}}).call(this,n(3)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var r=n.w[e.i];e.exports=r;n(2);r.b()}]]);